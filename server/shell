#!/bin/bash

# 测试脚本,本脚本均为自己测试使用的,你可以自定义自己的脚本去执行

# 接收的参数
param="$1"

# 函数：读取 IP 地址
readIpAddress() {
    networkText=$(ls /etc/sysconfig/network-scripts/ | awk -F '[ ]+' 'NR==1 {print $1}' | awk -F- '{print $2}')
    ipaddress=$(ifconfig "$networkText" | grep -w "inet" | awk '{print $2}')
    echo "$ipaddress"
}

# 函数：获取当前路径
getCurrentPath() {
    address=$(pwd)
    echo "当前所在路径: $address"
}

# 函数：重新启动服务器
restartServer() {
    reboot
    echo "服务器已经重启..."
}

# 函数：查看在线用户
viewOnlineUsers() {
    user=$(w)
    echo "目前在线的用户有:"
    echo "$user"
}

# 函数：读取进程信息
readProcessInfo() {
    pid=$(ps -ef)
    echo "$pid"
}

# 函数：读取当前路径下的所有文件
readFiles() {
    files=$(ls)
    echo "当前路径下的所有文件:"
    echo "$files"
}

# 主逻辑
case "$param" in
    "readIPaddress") readIpAddress ;;
    "getpath") getCurrentPath ;;
    "ToRestart") restartServer ;;
    "ViewOnline") viewOnlineUsers ;;
    "readProgress") readProcessInfo ;;
    "readFile") readFiles ;;
    *) echo "输入有误，参数不匹配..." ;;
esac
